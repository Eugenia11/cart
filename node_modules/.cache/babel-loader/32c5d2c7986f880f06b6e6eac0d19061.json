{"ast":null,"code":"import _slicedToArray from \"/home/evgeniya/shopping-cart-develop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"/home/evgeniya/shopping-cart-develop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nvar _jsxFileName = \"/home/evgeniya/shopping-cart-develop/src/components/home/cart.js\";\nimport React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ItemCartTemplate from '../templates/itemCartTemplate';\nimport { Typography } from '@material-ui/core';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport { removeItems } from '../../actions/items';\nimport Navbar from './navbar';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    container: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      marginLeft: \"5%\",\n      marginRight: \"5%\"\n    },\n    drawerHeader: _objectSpread({\n      display: 'flex',\n      alignItems: 'center',\n      padding: theme.spacing(3, 0)\n    }, theme.mixins.toolbar, {\n      justifyContent: 'flex-end'\n    }),\n    totalPrice: {\n      textAlign: \"center\"\n    },\n    button: {\n      marginRight: 20\n    }\n  };\n});\n\nfunction Cart(props) {\n  var classes = useStyles();\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      itemCard = _useState2[0],\n      setItemCard = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      cartContent = _useState4[0],\n      setCartContent = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      lsCart = _useState6[0],\n      setLsCart = _useState6[1];\n\n  useEffect(function () {\n    var cart = JSON.parse(localStorage.getItem('cart'));\n    setLsCart(cart);\n    var sortCart = cart.itemsInCart.sort(function (a, b) {\n      var dateA = new Date(a.time);\n      var dateB = new Date(b.time);\n      return dateB - dateA;\n    });\n    setCartContent(sortCart);\n  }, [props.cart]);\n  useEffect(function () {\n    if (cartContent) {\n      var itemList = cartContent.map(function (item) {\n        return React.createElement(ItemCartTemplate, {\n          key: item.id,\n          title: item.title,\n          price: item.price,\n          image: item.image,\n          id: item.id,\n          quantity: item.quantity,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        });\n      });\n      setItemCard(itemList);\n    }\n  }, [cartContent]);\n\n  var handleClick = function handleClick() {\n    props.removeItemsData();\n  };\n\n  return React.createElement(\"main\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(Navbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: classes.drawerHeader,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }), React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"flex-end\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(Button, {\n    size: \"medium\",\n    color: \"primary\",\n    onClick: handleClick,\n    className: classes.button,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, \"Clear cart\")), React.createElement(\"div\", {\n    className: classes.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, itemCard), React.createElement(Typography, {\n    gutterBottom: true,\n    variant: \"h5\",\n    component: \"h6\",\n    className: classes.totalPrice,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, \"\\u041A \\u043E\\u043F\\u043B\\u0430\\u0442\\u0435: \", lsCart ? lsCart.totalPrice : '', \" \\u0433\\u0440\\u043D\"));\n}\n\nCart.defaultProps = {\n  cart: null\n};\nCart.propTypes = {\n  removeItemsData: PropTypes.func.isRequired\n};\n\nvar mapStateToProps = function mapStateToProps(store) {\n  return {\n    cart: store.cart\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    removeItemsData: function removeItemsData(data) {\n      return dispatch(removeItems(data));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart);","map":{"version":3,"sources":["/home/evgeniya/shopping-cart-develop/src/components/home/cart.js"],"names":["React","useEffect","useState","connect","PropTypes","makeStyles","ItemCartTemplate","Typography","Box","Button","removeItems","Navbar","useStyles","theme","container","display","flexDirection","marginLeft","marginRight","drawerHeader","alignItems","padding","spacing","mixins","toolbar","justifyContent","totalPrice","textAlign","button","Cart","props","classes","itemCard","setItemCard","cartContent","setCartContent","lsCart","setLsCart","cart","JSON","parse","localStorage","getItem","sortCart","itemsInCart","sort","a","b","dateA","Date","time","dateB","itemList","map","item","id","title","price","image","quantity","handleClick","removeItemsData","defaultProps","propTypes","func","isRequired","mapStateToProps","store","mapDispatchToProps","dispatch","data"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,SAASC,UAAT,QAA2B,0BAA3B;AACA,OAAOC,gBAAP,MAA6B,+BAA7B;AACA,SAASC,UAAT,QAA2B,mBAA3B;AACA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AAEA,SAASC,WAAT,QAA4B,qBAA5B;AAEA,OAAOC,MAAP,MAAmB,UAAnB;AAEA,IAAMC,SAAS,GAAGP,UAAU,CAAC,UAAAQ,KAAK;AAAA,SAAK;AACnCC,IAAAA,SAAS,EAAE;AACPC,MAAAA,OAAO,EAAE,MADF;AAEPC,MAAAA,aAAa,EAAE,QAFR;AAGPC,MAAAA,UAAU,EAAE,IAHL;AAIPC,MAAAA,WAAW,EAAE;AAJN,KADwB;AAOnCC,IAAAA,YAAY;AACRJ,MAAAA,OAAO,EAAE,MADD;AAERK,MAAAA,UAAU,EAAE,QAFJ;AAGRC,MAAAA,OAAO,EAAER,KAAK,CAACS,OAAN,CAAc,CAAd,EAAiB,CAAjB;AAHD,OAILT,KAAK,CAACU,MAAN,CAAaC,OAJR;AAKRC,MAAAA,cAAc,EAAE;AALR,MAPuB;AAcnCC,IAAAA,UAAU,EAAE;AACRC,MAAAA,SAAS,EAAE;AADH,KAduB;AAiBnCC,IAAAA,MAAM,EAAE;AACJV,MAAAA,WAAW,EAAE;AADT;AAjB2B,GAAL;AAAA,CAAN,CAA5B;;AAsBA,SAASW,IAAT,CAAcC,KAAd,EAAqB;AAEjB,MAAMC,OAAO,GAAGnB,SAAS,EAAzB;;AAFiB,kBAIeV,QAAQ,CAAC,IAAD,CAJvB;AAAA;AAAA,MAIV8B,QAJU;AAAA,MAIAC,WAJA;;AAAA,mBAKqB/B,QAAQ,CAAC,IAAD,CAL7B;AAAA;AAAA,MAKVgC,WALU;AAAA,MAKGC,cALH;;AAAA,mBAMWjC,QAAQ,CAAC,IAAD,CANnB;AAAA;AAAA,MAMVkC,MANU;AAAA,MAMFC,SANE;;AAQjBpC,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAMqC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;AACAL,IAAAA,SAAS,CAACC,IAAD,CAAT;AACA,QAAMK,QAAQ,GAAGL,IAAI,CAACM,WAAL,CAAiBC,IAAjB,CAAsB,UAACC,CAAD,EAAIC,CAAJ,EAAU;AAC7C,UAAIC,KAAK,GAAG,IAAIC,IAAJ,CAASH,CAAC,CAACI,IAAX,CAAZ;AACA,UAAIC,KAAK,GAAG,IAAIF,IAAJ,CAASF,CAAC,CAACG,IAAX,CAAZ;AACA,aAAOC,KAAK,GAAGH,KAAf;AACH,KAJgB,CAAjB;AAKAb,IAAAA,cAAc,CAACQ,QAAD,CAAd;AACH,GATQ,EASN,CAACb,KAAK,CAACQ,IAAP,CATM,CAAT;AAWArC,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAIiC,WAAJ,EAAiB;AACb,UAAMkB,QAAQ,GAAGlB,WAAW,CAACmB,GAAZ,CAAgB,UAACC,IAAD,EAAU;AACvC,eACI,oBAAC,gBAAD;AACI,UAAA,GAAG,EAAEA,IAAI,CAACC,EADd;AAEI,UAAA,KAAK,EAAED,IAAI,CAACE,KAFhB;AAGI,UAAA,KAAK,EAAEF,IAAI,CAACG,KAHhB;AAII,UAAA,KAAK,EAAEH,IAAI,CAACI,KAJhB;AAKI,UAAA,EAAE,EAAEJ,IAAI,CAACC,EALb;AAMI,UAAA,QAAQ,EAAED,IAAI,CAACK,QANnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAWH,OAZgB,CAAjB;AAaA1B,MAAAA,WAAW,CAACmB,QAAD,CAAX;AACH;AACJ,GAjBQ,EAiBN,CAAClB,WAAD,CAjBM,CAAT;;AAmBA,MAAM0B,WAAW,GAAG,SAAdA,WAAc,GAAM;AACtB9B,IAAAA,KAAK,CAAC+B,eAAN;AACH,GAFD;;AAIA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAII;AAAK,IAAA,SAAS,EAAE9B,OAAO,CAACZ,YAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,EAMI,oBAAC,GAAD;AAAK,IAAA,OAAO,EAAC,MAAb;AAAoB,IAAA,aAAa,EAAC,KAAlC;AAAwC,IAAA,cAAc,EAAC,UAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,KAAK,EAAC,SAA5B;AAAsC,IAAA,OAAO,EAAEyC,WAA/C;AAA4D,IAAA,SAAS,EAAE7B,OAAO,CAACH,MAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,CANJ,EAYI;AAAK,IAAA,SAAS,EAAEG,OAAO,CAACjB,SAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoCkB,QAApC,CAZJ,EAcI,oBAAC,UAAD;AAAY,IAAA,YAAY,MAAxB;AAAyB,IAAA,OAAO,EAAC,IAAjC;AAAsC,IAAA,SAAS,EAAC,IAAhD;AAAqD,IAAA,SAAS,EAAED,OAAO,CAACL,UAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sDACgBU,MAAM,GAAGA,MAAM,CAACV,UAAV,GAAuB,EAD7C,wBAdJ,CADJ;AAoBH;;AAEDG,IAAI,CAACiC,YAAL,GAAoB;AAChBxB,EAAAA,IAAI,EAAE;AADU,CAApB;AAIAT,IAAI,CAACkC,SAAL,GAAiB;AACbF,EAAAA,eAAe,EAAEzD,SAAS,CAAC4D,IAAV,CAAeC;AADnB,CAAjB;;AAIA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAAAC,KAAK;AAAA,SAAK;AAC9B7B,IAAAA,IAAI,EAAE6B,KAAK,CAAC7B;AADkB,GAAL;AAAA,CAA7B;;AAIA,IAAM8B,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAC,QAAQ;AAAA,SAAK;AACpCR,IAAAA,eAAe,EAAE,yBAAAS,IAAI;AAAA,aAAID,QAAQ,CAAC3D,WAAW,CAAC4D,IAAD,CAAZ,CAAZ;AAAA;AADe,GAAL;AAAA,CAAnC;;AAIA,eAAenE,OAAO,CAAC+D,eAAD,EAAkBE,kBAAlB,CAAP,CAA6CvC,IAA7C,CAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport ItemCartTemplate from '../templates/itemCartTemplate'\nimport { Typography } from '@material-ui/core';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\n\nimport { removeItems } from '../../actions/items';\n\nimport Navbar from './navbar';\n\nconst useStyles = makeStyles(theme => ({\n    container: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        marginLeft: \"5%\",\n        marginRight: \"5%\",\n    },\n    drawerHeader: {\n        display: 'flex',\n        alignItems: 'center',\n        padding: theme.spacing(3, 0),\n        ...theme.mixins.toolbar,\n        justifyContent: 'flex-end',\n    },\n    totalPrice: {\n        textAlign: \"center\"\n    },\n    button: {\n        marginRight: 20\n    }\n}));\n\nfunction Cart(props) {\n\n    const classes = useStyles();\n\n    const [itemCard, setItemCard] = useState(null);\n    const [cartContent, setCartContent] = useState(null);\n    const [lsCart, setLsCart] = useState(null);\n\n    useEffect(() => {\n        const cart = JSON.parse(localStorage.getItem('cart'));\n        setLsCart(cart);\n        const sortCart = cart.itemsInCart.sort((a, b) => {\n            let dateA = new Date(a.time);\n            let dateB = new Date(b.time);\n            return dateB - dateA\n        })\n        setCartContent(sortCart);\n    }, [props.cart])\n\n    useEffect(() => {\n        if (cartContent) {\n            const itemList = cartContent.map((item) => {\n                return (\n                    <ItemCartTemplate\n                        key={item.id}\n                        title={item.title}\n                        price={item.price}\n                        image={item.image}\n                        id={item.id}\n                        quantity={item.quantity}\n                    />\n\n                )\n            });\n            setItemCard(itemList);\n        }\n    }, [cartContent]);\n\n    const handleClick = () => {\n        props.removeItemsData();\n    };\n\n    return (\n        <main>\n\n            <Navbar/>\n\n            <div className={classes.drawerHeader} />\n\n            <Box display=\"flex\" flexDirection=\"row\" justifyContent=\"flex-end\">\n                <Button size=\"medium\" color=\"primary\" onClick={handleClick} className={classes.button}>\n                    Clear cart\n                </Button>\n            </Box>\n\n            <div className={classes.container}>{itemCard}</div>\n\n            <Typography gutterBottom variant=\"h5\" component=\"h6\" className={classes.totalPrice}>\n                К оплате: { lsCart ? lsCart.totalPrice : '' } грн\n            </Typography>\n        </main>\n    )\n}\n\nCart.defaultProps = {\n    cart: null,\n}\n\nCart.propTypes = {\n    removeItemsData: PropTypes.func.isRequired,\n}\n\nconst mapStateToProps = store => ({\n    cart: store.cart,\n});\n\nconst mapDispatchToProps = dispatch => ({\n    removeItemsData: data => dispatch(removeItems(data)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart);\n"]},"metadata":{},"sourceType":"module"}