{"ast":null,"code":"import _toConsumableArray from \"/home/evgeniya/cart/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/home/evgeniya/cart/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { SET_ITEMS, ADD_TO_CART } from '../constants/item';\nimport image1 from '../images/image1.jpg';\nimport image2 from '../images/image2.jpg';\nimport image3 from '../images/image3.jpg';\nimport image4 from '../images/image4.jpg';\nimport image5 from '../images/image5.jpg';\nimport image6 from '../images/image6.jpg';\nimport image7 from '../images/image7.jpg';\nimport image8 from '../images/image8.jpg';\nimport image9 from '../images/image9.jpg';\nimport image10 from '../images/image10.jpg';\nvar initialState = {\n  items: [{\n    id: 1,\n    title: 'Белое платье-миди с цельнокроеным рукавом',\n    price: 895,\n    image: image1,\n    dateAddTOCart: ''\n  }, {\n    id: 2,\n    title: 'Платье-гольф черного цвета с потайной молнией',\n    price: 695,\n    image: image2,\n    dateAddTOCart: ''\n  }, {\n    id: 3,\n    title: 'Обтягивающее платье бежевого цвета из стрейч-гипюра',\n    price: 695,\n    image: image3,\n    dateAddTOCart: ''\n  }, {\n    id: 4,\n    title: 'Платье в серую клетку из костюмки с рукавами реглан ',\n    price: 695,\n    image: image4,\n    dateAddTOCart: ''\n  }, {\n    id: 5,\n    title: 'Платье в тёмно-синюю клетку с расклешенной юбкой ',\n    price: 795,\n    image: image5,\n    dateAddTOCart: ''\n  }, {\n    id: 6,\n    title: 'Синее платье с верхом из креп-шифона и принтованной юбкой',\n    price: 695,\n    image: image6,\n    dateAddTOCart: ''\n  }, {\n    id: 7,\n    title: 'Серое платье свободного кроя с карманами ',\n    price: 595,\n    image: image7,\n    dateAddTOCart: ''\n  }, {\n    id: 8,\n    title: 'Обтягивающее платье-миди пудрового цвета',\n    price: 695,\n    image: image8,\n    dateAddTOCart: ''\n  }, {\n    id: 9,\n    title: 'Шифоновое платье с принтом и воротником-аскот зеленое',\n    price: 795,\n    image: image9,\n    dateAddTOCart: ''\n  }, {\n    id: 10,\n    title: 'Платье с запахом чёрного цвета из креп-дайвинга',\n    price: 675,\n    image: image10,\n    dateAddTOCart: ''\n  }],\n  addedItems: [],\n  total: 0\n};\n\nvar cartReducer = function cartReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_TO_CART:\n      {\n        var addedItem = state.items.find(function (item) {\n          return item.id === action.id;\n        });\n        var existedItem = state.addedItems.find(function (item) {\n          return action.id === item.id;\n        });\n        var totalPrice = 0;\n        var cart = [];\n\n        if (existedItem) {\n          addedItem.quantity += 1;\n\n          var _newCart = _objectSpread({}, state, {\n            total: state.total + addedItem.price\n          });\n\n          localStorage.setItem('cart', JSON.stringify(_newCart)); // return { ...state, total: state.total + addedItem.price}\n\n          return _newCart;\n        } else {\n          addedItem.quantity = 1;\n          var newTotal = state.total + addedItem.price; // let newCart = { total: newTotal, addedItems: [...state.addedItems, addedItem] };\n          // localStorage.setItem('cart', JSON.stringify(newCart));\n\n          var _newCart2 = _objectSpread({}, state, {\n            total: newTotal,\n            addedItems: [].concat(_toConsumableArray(state.addedItems), [addedItem])\n          });\n\n          localStorage.setItem('cart', JSON.stringify(_newCart2)); // return { ...state, total: newTotal, addedItems: [...state.addedItems, addedItem]}\n\n          return _newCart2;\n        }\n\n        totalPrice = total;\n        cart = addedItems;\n        var newCart = {\n          price: totalPrice,\n          upCart: cart\n        };\n        console.log(newCart);\n      }\n\n    default:\n      return state;\n  }\n\n  return state;\n};\n\nexport default cartReducer;","map":{"version":3,"sources":["/home/evgeniya/cart/src/reducers/cartReducer.js"],"names":["SET_ITEMS","ADD_TO_CART","image1","image2","image3","image4","image5","image6","image7","image8","image9","image10","initialState","items","id","title","price","image","dateAddTOCart","addedItems","total","cartReducer","state","action","type","addedItem","find","item","existedItem","totalPrice","cart","quantity","newCart","localStorage","setItem","JSON","stringify","newTotal","upCart","console","log"],"mappings":"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","sourcesContent":["import {\n    SET_ITEMS, ADD_TO_CART\n} from '../constants/item';\n\nimport image1 from '../images/image1.jpg';\nimport image2 from '../images/image2.jpg';\nimport image3 from '../images/image3.jpg';\nimport image4 from '../images/image4.jpg';\nimport image5 from '../images/image5.jpg';\nimport image6 from '../images/image6.jpg';\nimport image7 from '../images/image7.jpg';\nimport image8 from '../images/image8.jpg';\nimport image9 from '../images/image9.jpg';\nimport image10 from '../images/image10.jpg';\n\nconst initialState = {\n    items: [\n        { id: 1, title: 'Белое платье-миди с цельнокроеным рукавом', price: 895, image: image1, dateAddTOCart: '' },\n        { id: 2, title: 'Платье-гольф черного цвета с потайной молнией', price: 695, image: image2, dateAddTOCart: '' },\n        { id: 3, title: 'Обтягивающее платье бежевого цвета из стрейч-гипюра', price: 695, image: image3, dateAddTOCart: '' },\n        { id: 4, title: 'Платье в серую клетку из костюмки с рукавами реглан ', price: 695, image: image4, dateAddTOCart: '' },\n        { id: 5, title: 'Платье в тёмно-синюю клетку с расклешенной юбкой ', price: 795, image: image5, dateAddTOCart: '' },\n        { id: 6, title: 'Синее платье с верхом из креп-шифона и принтованной юбкой', price: 695, image: image6, dateAddTOCart: '' },\n        { id: 7, title: 'Серое платье свободного кроя с карманами ', price: 595, image: image7, dateAddTOCart: '' },\n        { id: 8, title: 'Обтягивающее платье-миди пудрового цвета', price: 695, image: image8, dateAddTOCart: '' },\n        { id: 9, title: 'Шифоновое платье с принтом и воротником-аскот зеленое', price: 795, image: image9, dateAddTOCart: '' },\n        { id: 10, title: 'Платье с запахом чёрного цвета из креп-дайвинга', price: 675, image: image10, dateAddTOCart: '' },\n    ],\n    addedItems: [],\n    total: 0\n};\n\nconst cartReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case ADD_TO_CART: {\n            let addedItem = state.items.find(item => item.id === action.id);\n            let existedItem= state.addedItems.find(item=> action.id === item.id);\n\n            let totalPrice = 0;\n            let cart = [];\n\n            if(existedItem) {\n                addedItem.quantity += 1;\n                let newCart = { ...state, total: state.total + addedItem.price};\n                localStorage.setItem('cart', JSON.stringify(newCart));\n                // return { ...state, total: state.total + addedItem.price}\n                return newCart\n            } else {\n                addedItem.quantity = 1;\n                let newTotal = state.total + addedItem.price;\n                // let newCart = { total: newTotal, addedItems: [...state.addedItems, addedItem] };\n                // localStorage.setItem('cart', JSON.stringify(newCart));\n                let newCart = { ...state, total: newTotal, addedItems: [...state.addedItems, addedItem]}\n                localStorage.setItem('cart', JSON.stringify(newCart));\n                // return { ...state, total: newTotal, addedItems: [...state.addedItems, addedItem]}\n                return newCart\n            }\n\n            totalPrice = total;\n            cart = addedItems;\n\n            let newCart = {price: totalPrice, upCart: cart};\n            console.log(newCart)\n        }\n        default:\n            return state;\n    }\n    return state\n}\n\n\n\n\nexport default cartReducer;"]},"metadata":{},"sourceType":"module"}